<!-------------------------- Â© 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->

<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script>window.headerfooteroff = true</script>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Self-Serve Attendance System</title>
        <style>
            /* .container {
                max-width: 600px;
                margin: auto;
            }

            .absentees {
                margin-top: 20px;
            } */

            #copyAbsenteesButton {
                display: none;
                /* Initially hide the button */
            }
        </style>
    </head>

    <body>
        <main class="container my-4">
            <div class="text-center">
                <h1 class="mb-4">Attendance Buffet</h1>
            </div>

            <!-- Rules -->
            <div class="alert alert-warning text-justify" role="alert">
                <strong>Note:</strong> This is a self-serve attendance system. Enter ONLY your roll number. eg: gf123456789. The absentee list updates automatically and we have no option to manually change it. If you missed marking attendance, please dont be late next time.
            </div>

            <!-- Message Display Area -->
            <div id="messageBox" class="message-box my-3 text-center"></div>

            <!-- Form to enter roll number and mark attendance -->
            <form id="attendanceForm" class="mb-4">
                <div class="mb-3">
                    <label for="rollInput" class="form-label">Enter your Roll Number</label>
                    <input type="text" id="rollInput" name="rollInput" class="form-control" placeholder="Enter your roll number" required>
                </div>
                <div class="d-grid">
                    <button type="submit" class="btn btn-primary">Mark Attendance</button>
                </div>
            </form>

            <!-- Button to copy absentees list to clipboard -->
            <div id="attendanceoptions" class="d-grid my-5 p-3 border shadow d-none">
                <h3 class="h3 text-center">Attendance Options</h3>
                <button id="takeattendance" class="btn btn-outline-danger my-1" style="display:none">Take Attendance</button>
                <button id="simulate" class="btn btn-outline-warning my-1" style="display:none">Simulate Present</button>
                <button id="allabsent" class="btn btn-outline-danger my-1" style="display:none">All Absent</button>
                <button id="allpresent" class="btn btn-outline-success my-1" style="display:none">All Present</button>
            </div>
            
            <div class="d-grid mb-4">
                <button id="copyAbsenteesButton" class="btn btn-outline-secondary" style="display:none">Copy Absentees to Clipboard</button>
            </div>

            <!-- Absentees List -->
            <div class="absentees mt-3">
                <h2 class="h5">Absentees List</h2>
                <ul id="absentees" class="list-group list-group-flush"></ul>
            </div>
        </main>

        <script src="js/b-prod.js"></script>
    </body>

</html>