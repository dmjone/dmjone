<!-------------------------- Â© 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Webpage to minify SVG files
    <textarea id="svg" cols="30" rows="10"></textarea>
    <button onclick="minify()">Minify</button>
    <textarea id="minified" cols="30" rows="10"></textarea>
    <script>
        function minify() {
            let svg = document.getElementById('svg').value;
            let minified = minifySVG(svg);
            document.getElementById('minified').value = minified;
        }
    </script>    
    <script>
        function minifySVG(svgString) {
                // Remove comments
                let minified = svgString.replace(/<!--[\s\S]*?-->/g, '');
                    // Remove spaces between tags
                minified = minified.replace(/>[\s\r\n]+</g, '><');
                // Minimize whitespace and remove unnecessary spaces within tags
                minified = minified.replace(/\s{2,}/g, ' ').trim();
                // Remove unnecessary space around equal signs and after commas
                minified = minified.replace(/\s*=\s*/g, '=').replace(/,\s*/g, ',');
                return minified;
            }
    </script>
</body>
</html>
