<!-------------------------- © 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>

        <title>Parse Tree - CSU086 | Shoolini University</title>

        <meta name="description" content="Learn about parse trees, including properties, examples, leftmost and rightmost derivations, ambiguous grammars, and practical applications.">
        <meta name="keywords" content="parse tree, syntax analysis, leftmost derivation, rightmost derivation, ambiguous grammar, operator precedence, natural language processing, compilers">
        <meta name="author" content="Divya Mohan">
        <meta name="robots" content="index, follow">

        <!-- Open Graph for Social Media -->
        <meta property="og:title" content="Parse Tree - CSU086 | Shoolini University">
        <meta property="og:description" content="Learn about parse trees, including properties, examples, leftmost and rightmost derivations, ambiguous grammars, and practical applications.">
        <meta property="og:url" content="https://dmj.one/edu/su/course/csu086/theory/parse-tree">
        <meta property="og:image" content="/logo.png">
        <meta property="og:type" content="article">

        <!-- Twitter Cards -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Parse Tree - CSU086 | Shoolini University">
        <meta name="twitter:description" content="Learn about parse trees, including properties, examples, leftmost and rightmost derivations, ambiguous grammars, and practical applications.">
        <meta name="twitter:site" content="@divyamohan1993">
        <meta name="twitter:creator" content="@divyamohan1993">
        <meta name="twitter:image" content="/logo.png">

        <!-- Mobile Responsiveness -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- JSON-LD Structured Data for SEO -->
        <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "Course",
                    "name": "Parse Tree",                    
                    "description": "Learn about parse trees, including properties, examples, leftmost and rightmost derivations, ambiguous grammars, and practical applications.",
                    "provider": [
                        {
                            "@type": "EducationalOrganization",
                            "name": "dmj.one",
                            "url": "https://dmj.one"
                        },
                        {
                            "@type": "EducationalOrganization",
                            "name": "Shoolini University",
                            "url": "https://shooliniuniversity.com"
                        }
                    ]
                }    
        </script>

        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.js" integrity="sha512-sHSNLECRJSK+BFs7E8DiFc6pf6n90bLI85Emiw1jhreduZhK3VXgq9l4kAt9eTIHYAcuQBKHL01QKs4/3Xgl8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                renderMathInElement(document.body, {
                    // customised options
                    // • auto-render specific keys, e.g.:
                    delimiters: [
                        { left: '$$', right: '$$', display: true },
                        { left: '$', right: '$', display: false },
                        { left: '\\(', right: '\\)', display: false },
                        { left: '\\[', right: '\\]', display: true }
                    ],
                    // • rendering keys, e.g.:
                    throwOnError: false
                });
            });
        </script> -->

        <!-- <style>
            main ul {
                list-style-type: none;
                padding: 0;
                margin: 0;
            }

            main ul li {
                margin: 0;
                padding: 0;
            }
        </style> -->




    </head>

    <body>

        <script> header_author("dm"); </script>

        <main>
            <article class="agen-tableofcontents">
                <h2 class="text-center">
                    Parse Tree
                </h2>
                <div class="d-none contentdate">2025, February 4</div>
            </article>

            <article>
                <h3>1. Parse Trees</h3>
                <p>A <strong>parse tree</strong> is a hierarchical tree structure that represents how a string conforms to a given grammar. It is used in syntax analysis to check whether a given input string belongs to a language.</p>

                <h4>1.1 Properties of a Parse Tree</h4>
                <ul>
                    <li><strong>Root:</strong> The topmost node represents the start symbol of the grammar.</li>
                    <li><strong>Leaves:</strong> The terminal symbols of the grammar appear at the leaves.</li>
                    <li><strong>Internal Nodes:</strong> Each internal node represents a nonterminal, which expands based on grammar rules.</li>
                    <li><strong>Children Order:</strong> If a nonterminal expands into a sequence of symbols, they appear as its children from left to right.</li>
                    <li><strong>Yield:</strong> The string obtained by reading all the leaves from left to right is called the <em>yield</em> or <em>frontier</em> of the parse tree.</li>
                </ul>
            </article>

            <article>
                <h3>2. Example 1: Arithmetic Expression Parsing</h3>
                <p>Consider the following <strong>context-free grammar (CFG)</strong> for arithmetic expressions:</p>
                <pre><code class="">
E → E + T | E - T | T
T → T * F | T / F | F
F → (E) | id
</code></pre>

                <p>For the input string: <strong>id + id * id</strong>, we construct a parse tree:</p>

                <div class="text-center">
                    <img class="img-fluid dynamicimg imgblacktowhite" loading="lazy" src="https://mermaid.ink/img/pako:eNp1kbFugzAQhl8F3URbgmwTDHGlTiFbpzI1zmDFLlgCjAiWmiLevY4pS5V4-q37_J3ON8HZSAUMqkH0dVDuX3kX_DtFsNm8BQUOiyeftMRHLU-PwL6xlyMHzl84PITKsFxkJV6TluS-tvTl1jbe-nzXujCH8LC6kpsLImjV0Aot3YTT7RWHsVat4sBcbHRVj87ZzQ4UdjQf1-4MbBysimAwtqqBfYnm4m62l2JUey3cP7Ur0osO2ATfwCiO8S5NUpRhmiCUbCO4AsMExRinW7LLKCIoz_M5gh9jnADFGcEZzQlFCBGcUOJ1n77411NJPZrhfdmPX9P8C11UbrE?type=png" />
                </div>


                <p><strong>Explanation:</strong></p>
                <ul>
                    <li>The root node <code>E</code> represents the entire expression.</li>
                    <li>Since addition <code>+</code> has lower precedence than multiplication <code>*</code>, <code>id + id * id</code> is parsed as <code>id + (id * id)</code>.</li>
                    <li>The subtree for <code>id * id</code> (multiplication) is evaluated first before addition.</li>
                </ul>
            </article>

            <article>
                <h3>3. Leftmost and Rightmost Derivations</h3>
                <p>A parse tree corresponds to both leftmost and rightmost derivations. These derivations determine the order in which nonterminals are expanded.</p>

                <h4>3.1 Leftmost Derivation</h4>
                <pre><code class="">
E → E + T
  → T + T
  → F + T
  → id + T
  → id + T * F
  → id + id * F
  → id + id * id
</code></pre>

                <h4>3.2 Rightmost Derivation</h4>
                <pre><code class="">
E → E + T
  → E + T * F
  → E + T * id
  → E + F * id
  → E + id * id
  → F + id * id
  → id + id * id
</code></pre>
            </article>

            <article>
                <h3>4. Example 2: Ambiguous Grammar</h3>
                <p>A grammar is <strong>ambiguous</strong> if there exists more than one valid parse tree for the same input string.</p>
                <p>Consider this ambiguous grammar:</p>
                <pre><code class="">
E → E + E | E * E | id
</code></pre>

                <p>For the input string <strong>id + id * id</strong>, we get two possible parse trees:</p>

                <h4>4.1 Correct Parse Tree (Multiplication Precedence)</h4>

                <div class="text-center">
                    <img class="img-fluid dynamicimg imgblacktowhite" src="https://mermaid.ink/img/pako:eNp10T1rwzAQBuC_Ym7qh2P0EcuOApnisVM7NeogItUW2JZxJGhq_N-rqGkLJdZ00r08cLoJjlZp4FCPcmiSl_1W9Mm_UyWr1S6p8F11Hyuj8MGot6Xg0PrTQYAQjwIWQxX50Sr655IFl8Z-59voPtx26RWhFwRS6PTYSaPCbNMlLcA1utMCeChbUzcuWP0cgtI7-3zuj8Dd6HUKo_V1A_xdtqdw84OSTu-NDD_U_b4Osgc-wQdwhjO8yWmOCswoQnSdwhk4JijDOF-TTcEQQWVZzil8WhsElBUEF6wkDCFEMGUkcq-xeeW1Ms6OT9-riRuavwBpn22H?type=png" />
                </div>

                <h5>Step-by-Step Derivation (Correct Interpretation: Multiplication has higher precedence than addition)</h5>

                <p>We begin with the input string: <strong>id + id * id</strong></p>
                <pre><code class="language-auto">
1. Start with E:
   E → E + E   (Choose rule for addition)

2. Expand the second E (right operand of +) as multiplication has higher precedence:
   E → E + (E * E)  (Choose rule for multiplication first)

3. Expand the operands:
   E → id + (id * id)

4. Verify that multiplication is performed first due to its higher precedence.
</code></pre>

                <p class="text-success">Thus, the parse tree follows the correct operator precedence.</p>

                <h4>4.2 Incorrect Parse Tree (Addition Precedence)</h4>

                <div class="text-center">
                    <img class="img-fluid dynamicimg imgblacktowhite" loading="lazy" src="https://mermaid.ink/img/pako:eNp1kb1uwyAUhV_FulN_HAtwjB0qdYrHTu3U0AEFaiMZYxGQmlp-9xKSdqiSO53LOXwSnBn2Vipg0Dkx9dnb9omP2b9ps9XqOWvxXXt_VuRXaYl3Wn5cuUKSPw3hsOPA-SOH2yktyQ1Ksk0YEuPhOuOCKE8IyMEoZ4SW8UXzKczB98ooDizKQXe9j6hxiUERvH09jntg3gWVg7Oh64F9iuEQtzBJ4dVWi_gv5u90EiOwGb6AUVzgTVVWqMa0RKhc53AEhgkqMK7WZFNTRFDTNEsO39ZGAipqgmvaEIoQIrikJOHek3nBK6m9dS_nQlIvyw8QNWuf?type=png" />
                </div>

                <h5>Step-by-Step Derivation (Incorrect Interpretation: Addition has higher precedence than multiplication)</h5>

                <p>We begin with the same input string: <strong>id + id * id</strong></p>
                <pre><code class="">
1. Start with E:
   E → E * E   (Incorrect choice of multiplication first)

2. Expand the left operand first:
   E → (E + E) * E   (Addition is handled before multiplication, which is wrong)

3. Expand operands:
   E → (id + id) * id

4. This results in incorrect evaluation since addition should not be performed before multiplication.
</code></pre>

                <p class="text-danger">This parse tree incorrectly prioritizes addition over multiplication, violating standard arithmetic rules.</p>


                <p>To remove this ambiguity, we modify the grammar to enforce operator precedence.</p>

                <h4>4.3 Resolving the Ambiguity</h4>
                <p>To enforce correct precedence, we modify the grammar:</p>
                <pre><code class="">
E → E + T | T
T → T * F | F
F → id
</code></pre>

                <p>Now, multiplication has higher precedence because:</p>
                <ul>
                    <li><code>T</code> handles <code>*</code> before passing results to <code>E</code>.</li>
                    <li><code>E</code> only processes <code>+</code> after resolving all <code>*</code> operations.</li>
                </ul>

                <p>With this modification, we ensure that <code>id + id * id</code> is always parsed correctly as <code>id + (id * id)</code>.</p>
            </article>


            <article>
                <h3>5. Example 3: Nested Expressions with Parentheses</h3>
                <p>Parentheses change the evaluation order of expressions. Consider the following grammar:</p>
                <pre><code class="">
E → (E) | E + E | E * E | id
</code></pre>

                <p>For the input <strong>(id + id) * id</strong>, the parse tree looks like:</p>

                <div class="text-center">
                    <img class="img-fluid dynamicimg imgblacktowhite" loading="lazy" src="https://mermaid.ink/img/pako:eNp9kU9vgyAYh7-KeU92swawomXJTtXbTvO0sgMpTEn8F6rJOuN3H8Vth62T0w943ofwvhOcOqmAQWlEX3nF4YG33q-Vedvto1f4xcaF3M-X0AuDjxw49zm8_i3LHZRhP1twLfFRy3_Bvh7Pzna_YtOSrDqEIc6xuekoHNSMtWPuVpicfH9Sy-j6IgTQKNMILW2vpmsZh6FSjeLAbKx1WQ1W2s4WFOPQPV_aE7DBjCoA041lBexN1Ge7G3spBnXQwna8-TntRQtsgndgFId4H0cxSjCNEIp2AVyAYYJCjOMd2ScUEZSm6RzAR9dZAwoTghOaEooQIjiixOle3OWXXkk9dOZpGbWb-PwJ-79-xQ?type=png" />
                </div>

                <p><strong>Explanation:</strong></p>
                <ul>
                    <li>Parentheses enforce that <code>id + id</code> is evaluated before multiplication.</li>
                    <li>The subtree <code>(id + id)</code> is encapsulated inside <code>F</code>, ensuring correct precedence.</li>
                </ul>
            </article>

            <article>
                <h3>6. Constructing Parse Trees Using Code</h3>
                <p>We can use Python's <code>nltk</code> library to generate parse trees for a given grammar.</p>
                <pre><code class="language-python">
from nltk import CFG
from nltk.parse.chart import ChartParser

# Define a simple grammar
grammar = CFG.fromstring("""
    S -> NP VP
    NP -> 'John' | 'Mary' | 'dogs'
    VP -> V NP | V
    V -> 'barks' | 'sees'
""")

# Create a parser
parser = ChartParser(grammar)

# Parse the sentence
sentence = "John sees dogs".split()
for tree in parser.parse(sentence):
    print(tree)
    tree.pretty_print()
</code></pre>

                <p>This code constructs a parse tree for the sentence <strong>"John sees dogs"</strong> based on the defined CFG.</p>
            </article>

            <article>
                <h3>7. Conclusion</h3>
                <p>Parse trees are essential for understanding the structure of expressions and programming languages. They provide a hierarchical view of syntax, guiding both <strong>parsing</strong> and <strong>code generation</strong>.</p>
                <ul>
                    <li><strong>Leftmost and Rightmost Derivations:</strong> Define how trees are built step-by-step.</li>
                    <li><strong>Ambiguity Resolution:</strong> Ensures a single unique parse tree exists for each input.</li>
                    <li><strong>Operator Precedence:</strong> Determines the order of operations.</li>
                    <li><strong>Practical Applications:</strong> Parsing in compilers, natural language processing, and query evaluation.</li>
                </ul>
            </article>

        </main>

        <script> copyright("all"); </script>

    </body>

</html>