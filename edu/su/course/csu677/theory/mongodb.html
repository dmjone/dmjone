<!-------------------------- Â© 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
	<!--<![endif]-->

	<head>
		<script src="/js/edu_su_common.js"></script>
		<noscript>
			<style>
				html,
				body {
					margin: 0;
					overflow: hidden;
				}
			</style>
			<iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
		</noscript>

		<title>Introduction to MongoDB - CSU677 - Shoolini U</title>
		<meta name="description" content="Learn about MongoDB, a popular NoSQL database that provides high performance, scalability, and flexibility for modern applications.">

		<meta property=" og:image" content="/logo.png">
		<meta property="og:type" content="article">

		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@divyamohan1993">
		<meta name="twitter:creator" content="@divyamohan1993">
		<meta name="twitter:image" content="/logo.png">

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<meta name="author" content="Divya Mohan">
		<meta name="robots" content="index, follow">

	</head>

	<body>

		<script> header_author("dm"); </script>

		<main>
			<article class="agen-tableofcontents">
				<h2 class="text-center">MongoDB</h2>
			</article>

			<article>
				<h3>1. Introduction to MongoDB</h3>
				<p>MongoDB is a NoSQL database that stores data in a flexible, JSON-like format called BSON (Binary JSON). Unlike traditional relational databases that use tables and rows, MongoDB uses collections and documents, making it well-suited for applications that require fast, scalable, and flexible data storage. MongoDB is popular for its ease of use, horizontal scalability, and ability to handle large volumes of unstructured or semi-structured data.</p>
			</article>

			<article>
				<h3>2. MongoDB Architecture</h3>
				<p>MongoDB's architecture is built around a few core concepts: databases, collections, and documents.</p>

				<h4>2.1 Database</h4>
				<p>A MongoDB instance can host multiple databases, each functioning as a high-level container for collections. Each database has its own set of files on the filesystem and is completely independent of other databases.</p>

				<h4>2.2 Collection</h4>
				<p>A collection is a group of MongoDB documents. It is the equivalent of a table in relational databases, but unlike tables, a collection does not enforce a schema. This means that documents within the same collection can have different fields, allowing for a high degree of flexibility.</p>

				<h4>2.3 Document</h4>
				<p>A document is the basic unit of data in MongoDB and is represented as a JSON-like object. Each document contains a set of key-value pairs, where the keys are field names, and the values can be various data types such as strings, numbers, arrays, or even other documents.</p>

				<h5>2.3.1 Example: Document Structure</h5>
				<pre><code class="language-json">
{
  "_id": "507f191e810c19729de860ea",
  "name": "John Doe",
  "age": 29,
  "address": {
    "street": "123 Main St",
    "city": "Springfield",
    "state": "IL"
  },
  "interests": ["reading", "hiking", "coding"]
}
</code></pre>
				<p>In this example, the document represents a person with fields like <code>_id</code>, <code>name</code>, <code>age</code>, <code>address</code>, and <code>interests</code>. The <code>_id</code> field is a unique identifier automatically generated by MongoDB if not provided.</p>
			</article>

			<article>
				<h3>3. Installing MongoDB</h3>
				<p>To start using MongoDB, you need to install it on your system. MongoDB is available for various operating systems, including Windows, macOS, and Linux.</p>

				<h4>3.1 Installation Steps</h4>
				<p>To install MongoDB on your system, follow these general steps:</p>
				<ul>
					<li><strong>Windows:</strong> Download the MongoDB installer from the official website and follow the installation instructions.</li>
					<li><strong>macOS:</strong> Use Homebrew to install MongoDB: <code>brew tap mongodb/brew</code> and <code>brew install mongodb-community</code>.</li>
					<li><strong>Linux:</strong> Use the package manager for your distribution. For example, on Ubuntu: <code>sudo apt-get install -y mongodb</code>.</li>
				</ul>

				<h4>3.2 Verifying Installation</h4>
				<p>After installation, you can verify that MongoDB is installed correctly by starting the MongoDB server:</p>
				<pre><code class="language-bash">
mongod --version
</code></pre>
				<p>This command should display the installed version of MongoDB.</p>
			</article>

			<article>
				<h3>4. Basic MongoDB Operations</h3>
				<p>Once MongoDB is installed, you can start interacting with it using the MongoDB shell or a programming language like JavaScript, Python, or Node.js. Here are some basic operations:</p>

				<h4>4.1 Inserting Documents</h4>
				<p>To insert a document into a collection, you can use the <code>insertOne()</code> or <code>insertMany()</code> methods.</p>

				<h5>4.1.1 Example: Inserting a Document</h5>
				<pre><code class="language-javascript">
// Insert a single document
db.users.insertOne({
  "name": "Alice",
  "age": 30,
  "email": "alice@example.com"
});

// Insert multiple documents
db.users.insertMany([
  {
    "name": "Bob",
    "age": 25,
    "email": "bob@example.com"
  },
  {
    "name": "Charlie",
    "age": 35,
    "email": "charlie@example.com"
  }
]);
</code></pre>

				<h4>4.2 Querying Documents</h4>
				<p>To retrieve documents from a collection, you use the <code>find()</code> method, which allows you to specify query criteria.</p>

				<h5>4.2.1 Example: Querying Documents</h5>
				<pre><code class="language-javascript">
// Find all documents in the collection
db.users.find();

// Find documents with a specific name
db.users.find({ "name": "Alice" });

// Find documents with age greater than 25
db.users.find({ "age": { $gt: 25 } });
</code></pre>
				<p>In this example, the <code>find()</code> method retrieves documents that match the specified criteria, such as documents where the name is "Alice" or where the age is greater than 25.</p>

				<h4>4.3 Updating Documents</h4>
				<p>To update documents in a collection, you can use the <code>updateOne()</code>, <code>updateMany()</code>, or <code>replaceOne()</code> methods.</p>

				<h5>4.3.1 Example: Updating a Document</h5>
				<pre><code class="language-javascript">
// Update a single document
db.users.updateOne(
  { "name": "Alice" },
  { $set: { "age": 31 } }
);

// Update multiple documents
db.users.updateMany(
  { "age": { $lt: 30 } },
  { $set: { "status": "young" } }
);
</code></pre>
				<p>The <code>updateOne()</code> method updates a single document matching the criteria, while the <code>updateMany()</code> method updates all documents that match the criteria. The <code>$set</code> operator is used to specify the fields to be updated.</p>

				<h4>4.4 Deleting Documents</h4>
				<p>To remove documents from a collection, you can use the <code>deleteOne()</code> or <code>deleteMany()</code> methods.</p>

				<h5>4.4.1 Example: Deleting a Document</h5>
				<pre><code class="language-javascript">
// Delete a single document
db.users.deleteOne({ "name": "Alice" });

// Delete multiple documents
db.users.deleteMany({ "age": { $gt: 30 } });
</code></pre>
				<p>The <code>deleteOne()</code> method removes a single document that matches the criteria, while the <code>deleteMany()</code> method removes all documents that match the criteria.</p>
			</article>

			<article>
				<h3>5. Indexing in MongoDB</h3>
				<p>Indexes in MongoDB improve the performance of queries by reducing the amount of data that MongoDB needs to scan. Without indexes, MongoDB performs a collection scan, which can be slow for large collections. By creating indexes, you can significantly speed up query performance.</p>

				<h4>5.1 Creating Indexes</h4>
				<p>You can create indexes on fields that are frequently used in queries. MongoDB supports single-field indexes, compound indexes, text indexes, and more.</p>

				<h5>5.1.1 Example: Creating a Single-Field Index</h5>
				<pre><code class="language-javascript">
// Create an index on the 'name' field
db.users.createIndex({ "name": 1 });
</code></pre>
				<p>This example creates an ascending index on the <code>name</code> field of the <code>users</code> collection.</p>

				<h4>5.2 Viewing Indexes</h4>
				<p>You can view the indexes on a collection using the <code>getIndexes()</code> method.</p>

				<h5>5.2.1 Example: Viewing Indexes</h5>
				<pre><code class="language-javascript">
db.users.getIndexes();
</code></pre>
				<p>This command returns a list of all indexes on the <code>users</code> collection.</p>

				<h4>5.3 Dropping Indexes</h4>
				<p>If an index is no longer needed, you can remove it using the <code>dropIndex()</code> method.</p>

				<h5>5.3.1 Example: Dropping an Index</h5>
				<pre><code class="language-javascript">
// Drop the index on the 'name' field
db.users.dropIndex("name_1");
</code></pre>
				<p>This example removes the index on the <code>name</code> field from the <code>users</code> collection.</p>
			</article>

			<article>
				<h3>6. Aggregation in MongoDB</h3>
				<p>The aggregation framework in MongoDB is a powerful tool for performing data analysis and transformations. It allows you to process data and return computed results

					using a pipeline of stages. Each stage transforms the data, and the output of one stage is passed to the next.</p>

				<h4>6.1 Aggregation Pipeline</h4>
				<p>The aggregation pipeline consists of multiple stages, such as <code>$match</code>, <code>$group</code>, <code>$sort</code>, and <code>$project</code>. Each stage performs a specific operation on the data.</p>

				<h5>6.1.1 Example: Basic Aggregation Pipeline</h5>
				<pre><code class="language-javascript">
db.sales.aggregate([
  { $match: { "status": "A" } },
  { $group: { _id: "$item", totalSales: { $sum: "$amount" } } },
  { $sort: { totalSales: -1 } }
]);
</code></pre>
				<p>In this example, the pipeline filters documents with a status of "A", groups them by the <code>item</code> field, calculates the total sales for each item, and then sorts the results in descending order of total sales.</p>

				<h4>6.2 Common Aggregation Operators</h4>
				<ul>
					<li><strong>$match:</strong> Filters documents to pass only those that match the specified condition.</li>
					<li><strong>$group:</strong> Groups documents by a specified key and can perform aggregations like <code>$sum</code>, <code>$avg</code>, <code>$max</code>, etc.</li>
					<li><strong>$sort:</strong> Sorts documents based on a specified field in ascending or descending order.</li>
					<li><strong>$project:</strong> Reshapes documents by including, excluding, or computing new fields.</li>
				</ul>
			</article>

			<article>
				<h3>7. Replication in MongoDB</h3>
				<p>Replication in MongoDB provides redundancy and increases data availability. MongoDB achieves replication by using replica sets, which are groups of MongoDB instances that maintain the same data set. Replica sets ensure that data is replicated across multiple servers, providing fault tolerance and high availability.</p>

				<h4>7.1 Replica Sets</h4>
				<p>A replica set typically consists of a primary node and multiple secondary nodes:</p>
				<ul>
					<li><strong>Primary:</strong> The node that receives all write operations. There is only one primary node in a replica set at any time.</li>
					<li><strong>Secondary:</strong> Nodes that replicate the primary's data set. Secondary nodes can serve read operations and can take over as primary if the current primary fails.</li>
					<li><strong>Arbiter:</strong> A node that participates in elections for primary but does not hold data.</li>
				</ul>

				<h4>7.2 Setting Up a Replica Set</h4>
				<p>To set up a replica set, you need to start multiple MongoDB instances with the <code>--replSet</code> option and then initiate the replica set configuration.</p>

				<h5>7.2.1 Example: Initiating a Replica Set</h5>
				<pre><code class="language-bash">
mongod --replSet "rs0" --port 27017 --dbpath /data/db1
mongod --replSet "rs0" --port 27018 --dbpath /data/db2
mongod --replSet "rs0" --port 27019 --dbpath /data/db3
</code></pre>
				<p>After starting the instances, connect to one of them using the MongoDB shell and run the following command to initiate the replica set:</p>
				<pre><code class="language-javascript">
rs.initiate({
  _id: "rs0",
  members: [
    { _id: 0, host: "localhost:27017" },
    { _id: 1, host: "localhost:27018" },
    { _id: 2, host: "localhost:27019" }
  ]
});
</code></pre>
				<p>This command configures the replica set with three members.</p>
			</article>

			<article>
				<h3>8. Sharding in MongoDB</h3>
				<p>Sharding is MongoDB's method for scaling horizontally by distributing data across multiple servers. As data grows, sharding allows MongoDB to distribute the data across multiple machines, ensuring that the system can handle increased loads and large data sets efficiently.</p>

				<h4>8.1 Shard Keys</h4>
				<p>Sharding in MongoDB requires a shard key, which is a field or combination of fields that determines how data is distributed across shards. Choosing the right shard key is crucial for maintaining a balanced and efficient sharded cluster.</p>

				<h4>8.2 Setting Up a Sharded Cluster</h4>
				<p>To set up a sharded cluster, you need to configure the following components:</p>
				<ul>
					<li><strong>Shards:</strong> These are the data-bearing servers, typically replica sets, that store the data.</li>
					<li><strong>Config Servers:</strong> Store metadata and configuration settings for the cluster.</li>
					<li><strong>Mongos:</strong> Acts as a query router, directing client requests to the appropriate shard.</li>
				</ul>

				<h5>8.2.1 Example: Enabling Sharding on a Collection</h5>
				<pre><code class="language-javascript">
// Connect to the mongos instance
use admin;

// Enable sharding on the database
sh.enableSharding("mydatabase");

// Shard a collection using the specified shard key
sh.shardCollection("mydatabase.mycollection", { "userid": 1 });
</code></pre>
				<p>In this example, sharding is enabled on the <code>mydatabase</code> database, and the <code>mycollection</code> collection is sharded using the <code>userid</code> field as the shard key.</p>
			</article>
		</main>

		<script> copyright("all"); </script>

	</body>

</html>