<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Register</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <body>
        <div class="container mt-4">
            <h1>Register</h1>
            <form id="registerForm">
                <div class="mb-3"><label class="form-label">Email</label><input type="email" id="email" class="form-control"></div>
                <div class="mb-3"><label class="form-label">Password</label><input type="password" id="password" class="form-control"></div>
                <button type="submit" class="btn btn-primary">Register</button>
            </form>
            <div id="message" class="mt-3"></div>
        </div>
        <script>
            document.getElementById('registerForm').addEventListener('submit', e => {
                e.preventDefault()
                fetch('api/register', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: document.getElementById('email').value, password: document.getElementById('password').value }) }).then(r => r.json()).then(data => {
                    if (data.success) {
                        window.location.href = 'login'
                    } else {
                        document.getElementById('message').textContent = data.error
                    }
                })
            })
        </script>
    </body>

</html>