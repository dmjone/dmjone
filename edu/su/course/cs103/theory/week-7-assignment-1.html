<!-------------------------- © 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>

        <title>Week 7 - Assignment 1 - CS103 - Swayam</title>
        <meta name="description" content="As a sewer manager, your task is to connect all village houses with the least amount of piping, ensuring every house is connected either directly or indirectly while minimizing costs.">


        <meta property="og:image" content="/logo.png">
        <meta property="og:type" content="article">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@divyamohan1993">
        <meta name="twitter:creator" content="@divyamohan1993">
        <meta name="twitter:image" content="/logo.png">

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <meta name="author" content="Divya Mohan">
        <meta name="robots" content="index, follow">

        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.js" integrity="sha512-sHSNLECRJSK+BFs7E8DiFc6pf6n90bLI85Emiw1jhreduZhK3VXgq9l4kAt9eTIHYAcuQBKHL01QKs4/3Xgl8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                renderMathInElement(document.body, {
                    // customised options
                    // • auto-render specific keys, e.g.:
                    delimiters: [
                        { left: '$$', right: '$$', display: true },
                        { left: '$', right: '$', display: false },
                        { left: '\\(', right: '\\)', display: false },
                        { left: '\\[', right: '\\]', display: true }
                    ],
                    // • rendering keys, e.g.:
                    throwOnError: false
                });
            });
        </script> -->

        <style>

        </style>

    </head>

    <body>

        <script> header_author("dm"); </script>

        <main>
            <article class="agen-tableofcontents">
                <h2 class="text-center">
                    Week 7 - Assignment 1
                </h2>
            </article>

            <div class="alert text-center alert-warning m-0" role="alert">
                <div class="fw-bold h5">Notice</div>
                <span class="text-center">The following content is the property of Swayam used for explaining the solution. All rights reserved by Swayam and their publishers. Do not copy the solution directly.</span>
            </div>
            <article>
                <h3>Problem Statement</h3>
                <p>You have been hired as a sewer manager. Your next assignment is to connect all the houses in a village together so that their household sewage can be collected and processed in the village sewage treatment plant. Pipes are expensive, and your department does not get much budget from the government, thus you are to save as much money as possible. As the houses are in a village, the exact locations or coordinates of the houses are not available with you, but you do know how far each house is from each other.</p>
                <p>Find out the best way to connect the houses so that their wastes can be plumbed with the least amount of pipes. Each house should be connected to all other houses, directly or indirectly. No house should remain unconnected.</p>
            </article>

            <article>
                <h4>Input Format</h4>
                <p>The first line of the input contains a single integer <strong>t</strong>, which is the number of test cases. <strong>t</strong> test cases follow.</p>
                <p>Each test case contains multiple lines.</p>
                <p>The first line contains two space-separated integers <strong>n</strong> and <strong>x</strong>.</p>
                <ul>
                    <li><strong>n</strong>: the number of huts in the village</li>
                    <li><strong>x</strong>: the cost of pipe per meter</li>
                </ul>
                <p>Then <strong>n</strong> lines follow, each containing <strong>n</strong> space-separated integers.</p>
                <p>Each line represents the distance from that hut to all other huts.</p>
                <p>The <strong>i<sup>th</sup></strong> line's <strong>j<sup>th</sup></strong> element represents the distance from hut <strong>i</strong> to hut <strong>j</strong>, and is represented as <strong>D<sub>ij</sub></strong>.</p>
                <p>The huts are numbered from <strong>1</strong> to <strong>n</strong>.</p>
            </article>

            <article>
                <h4>Constraints</h4>
                <ul>
                    <li>1 ≤ <strong>t</strong> ≤ 102</li>
                    <li>1 ≤ <strong>n</strong> ≤ 102</li>
                    <li>1 ≤ <strong>x</strong> ≤ 106</li>
                    <li>1 ≤ <strong>D<sub>ij</sub></strong> ≤ 106</li>
                </ul>
            </article>

            <article>
                <h4>Output Format</h4>
                <p>For each test case, output a single integer which is the total cost of laying all the pipes.</p>
            </article>

            <article>
                <h4>Example</h4>
                <p><strong>Sample Input</strong></p>
                <pre><code class="language-plaintext">1
6 2
0 2 5 6 2 3
2 0 3 3 2 1
5 3 0 2 3 1
6 3 2 0 3 1
2 2 3 3 0 2
3 1 1 1 2 0</code></pre>

                <p><strong>Output</strong>:</p>
                <pre><code class="language-plaintext">14</code></pre>
            </article>

            <article>
                <h4>Explanation</h4>
                <p>The given input corresponds to the following configuration of village huts:</p>
                <figure class="text-center">
                    <img src="../img/w7a1-1.webp" class="img-fluid" alt="Image from Swayam">
                    <figcaption class="mt-2">Figure: Image Taken from Swayam MOOC Course 'Getting Started with Competitive Programming'. All copyrights reserved with Swayam</figcaption>
                </figure>
                <p>This can be connected in the following ways:</p>
                <figure class="text-center">
                    <img src="../img/w7a1-2.webp" class="img-fluid" alt="Image from Swayam">
                    <figcaption class="mt-2">Figure: Image Taken from Swayam MOOC Course 'Getting Started with Competitive Programming'. All copyrights reserved with Swayam</figcaption>
                </figure>
                <p>or</p>
                <figure class="text-center">
                    <img src="../img/w7a1-3.webp" class="img-fluid" alt="Image from Swayam">
                    <figcaption class="mt-2">Figure: Image Taken from Swayam MOOC Course 'Getting Started with Competitive Programming'. All copyrights reserved with Swayam</figcaption>
                </figure>
                <p>or</p>
                <figure class="text-center">
                    <img src="../img/w7a1-4.webp" class="img-fluid" alt="Image from Swayam">
                    <figcaption class="mt-2">Figure: Image Taken from Swayam MOOC Course 'Getting Started with Competitive Programming'. All copyrights reserved with Swayam</figcaption>
                </figure>
                <p>Since in all of these three configurations the cost of laying pipes is minimum.</p>
                <p>The cost is:</p>
                <p>$$(1 + 1 + 1 + 2 + 2) \times 2 = 7 \times 2 = 14$$</p>
            </article>




            <article>
                <h4>Solution</h4>
                <pre class="language-python"><code>def find_minimum_cost(n, x, distances):
    # Prim's algorithm to find the Minimum Spanning Tree (MST)
    
    # Create a list to track which huts have been added to the MST
    visited = [False] * n  # Initially, no huts are visited
    
    # Create a list to store the minimum edge cost to connect each hut to the MST
    min_edge = [float('inf')] * n  # Start with all edges set to infinity
    
    # Start with the first hut (index 0) and set its minimum edge cost to 0
    min_edge[0] = 0
    
    # Initialize the total cost of the MST
    total_cost = 0

    # Repeat the process n times to ensure all huts are connected
    for _ in range(n):
        # Find the hut with the smallest edge that hasn't been visited yet
        u = -1  # Initialize the variable to track the next hut to add to the MST
        for i in range(n):
            # If the hut hasn't been visited and its edge is the smallest, choose it
            if not visited[i] and (u == -1 or min_edge[i] < min_edge[u]):
                u = i
        
        # Mark this hut as visited (it's now part of the MST)
        visited[u] = True
        
        # Add the cost of this edge to the total MST cost
        total_cost += min_edge[u]

        # For each neighboring hut, update the minimum edge cost to connect it to the MST
        for v in range(n):
            # If the distance to this neighbor is smaller and it's not visited, update
            if distances[u][v] < min_edge[v] and not visited[v]:
                min_edge[v] = distances[u][v]
    
    # The final cost is the total MST cost multiplied by the cost per meter of pipe
    return total_cost * x

def main():
    # Read the number of test cases
    t = int(input())
    
    # Initialize a list to store the results for each test case
    results = []
    
    # Process each test case
    for _ in range(t):
        # Read the number of huts (n) and the cost per meter of pipe (x)
        n, x = map(int, input().split())
        
        # Initialize a list to store the distance matrix for this test case
        distances = []
        
        # Read the distance matrix (n x n)
        for _ in range(n):
            # Read each row of the distance matrix
            distances.append(list(map(int, input().split())))
        
        # Calculate the minimum cost to connect all huts for this test case
        cost = find_minimum_cost(n, x, distances)
        
        # Store the result
        results.append(cost)
    
    # Output all results, one for each test case
    for result in results:
        print(result)

# The entry point of the program
if __name__ == "__main__":
    main()
</code></pre>
            </article>

            <article>
                <h4>Explanation</h4>
                <p>The given problem can be solved using Prim's algorithm to find the Minimum Spanning Tree (MST) of the village huts. The algorithm works by starting with a single hut and adding the next hut with the smallest edge cost until all huts are connected. The total cost of laying pipes is calculated by summing the edge costs of the MST and multiplying by the cost per meter of pipe.</p>
            </article>

            <article>
                <h4>Complexity Analysis</h4>
                <p>The time complexity of the solution is $$O(n^2)$$, where $$n$$ is the number of huts in the village. The space complexity is also $$O(n^2)$$ to store the distance matrix.</p>
            </article>

            <article>
                <h4>Sample Solution Provided by Instructor</h4>
                <pre class="language-python"><code></code></pre>
            </article>

        </main>

        <script> copyright("all"); </script>

    </body>

</html>