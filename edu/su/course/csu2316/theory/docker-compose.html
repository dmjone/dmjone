<!-------------------------- © 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <script src="/js/edu_su_common.js"></script>
    <noscript>
        <style>
            html,
            body {
                margin: 0;
                overflow: hidden;
            }
        </style>
        <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
    </noscript>

    <title>Docker Compose - CSU2316 - Shoolini U</title>
    <meta name="description" content="Learn how to define and run multi-container Docker applications using Docker Compose and YAML configuration files.">

    <meta property="og:image" content="/logo.png">
    <meta property="og:type" content="article">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@divyamohan1993">
    <meta name="twitter:creator" content="@divyamohan1993">
    <meta name="twitter:image" content="/logo.png">

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <meta name="author" content="Divya Mohan">
    <meta name="robots" content="index, follow">

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.js" integrity="sha512-sHSNLECRJSK+BFs7E8DiFc6pf6n90bLI85Emiw1jhreduZhK3VXgq9l4kAt9eTIHYAcuQBKHL01QKs4/3Xgl8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                renderMathInElement(document.body, {
                    // customised options
                    // • auto-render specific keys, e.g.:
                    delimiters: [
                        { left: '$$', right: '$$', display: true },
                        { left: '$', right: '$', display: false },
                        { left: '\\(', right: '\\)', display: false },
                        { left: '\\[', right: '\\]', display: true }
                    ],
                    // • rendering keys, e.g.:
                    throwOnError: false
                });
            });
        </script> -->

    <!-- <style>
            main ul {
                list-style-type: none;
                padding: 0;
                margin: 0;
            }

            main ul li {
                margin: 0;
                padding: 0;
            }
        </style> -->

    <!-- JSON-LD Structured Data for SEO -->
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Course",
          "name": "Docker Compose",
          "description": "Learn how to define and run multi-container Docker applications using Docker Compose and YAML configuration files.",
          "url": "https://dmj.one/edu/su/course/csu2316/theory/docker-compose",
          "dateModified": "2025-12-16",
          "provider": [
            {
              "@type": "EducationalOrganization",
              "name": "dmj.one",
              "url": "https://dmj.one"
            },
            {
              "@type": "EducationalOrganization",
              "name": "Shoolini University",
              "url": "https://shooliniuniversity.com"
            }
          ],
          "offers": {
              "@type": "Offer",
              "category": "Education",
              "price": "0",
              "priceCurrency": "USD",
              "availability": "https://schema.org/InStock",
              "url": "https://dmj.one/edu/su/course/csu2316/theory/docker-compose"
          },
          "hasCourseInstance": {
              "@type": "CourseInstance",
              "name": "Docker Compose",
              "description": "Learn how to define and run multi-container Docker applications using Docker Compose and YAML configuration files.",
              "courseMode": "online",
              "startDate": "2025-12-16",
              "courseWorkload": "PT4H",               
              "instructor": [                
                {
                  "@type": "Person",
                  "name": "Divya Mohan",                                      
                  "url": "https://dmj.one/resume/",
                    "sameAs": [
                        "https://www.credly.com/users/divyamohan1993",
                        "https://www.linkedin.com/in/divyamohan1993/",
                        "https://hackerrank.com/divyamohan1993",
                        "https://www.coursera.org/learner/divyamohan1993"
                    ]
                }
              ],
              "url": "https://dmj.one/edu/su/course/csu2316/"
            }
        }
        </script>


</head>

<body>

    <script> header_author("dm"); </script>

    <main>
        <article class="agen-tableofcontents">
            <h2 class="text-center">
                Docker Compose
            </h2>
            <div class="d-none contentdate">2025, Dec 16</div>
        </article>
        <div class="text-center mb-4" style="position:relative;width:100%;height:250px;overflow:hidden"><img src="../img/docker_compose_stack.webp" alt="Docker Compose Stack" style="position:absolute;top:50%;left:50%;width:100%;height:100%;object-fit:cover;transform:translate(-50%,-50%)"></div>

        <article>
            <h3>9. Docker Compose</h3>
            <p>Docker Compose is a tool used to define and run <strong>multi-container applications</strong> using a single declarative configuration file. Instead of manually starting containers one by one, Compose lets you describe the entire system once and run it as a unit.</p>
            <p>Think of Docker as running <em>one machine</em>, and Docker Compose as running a <em>small data center on your laptop</em>—web server, database, cache, and networked connections, all coordinated.</p>
        </article>

        <article>
            <h4>9.1 Definition, Use Case, Why and Where Used</h4>
            <p><strong>Definition</strong>: Docker Compose is a YAML-based orchestration tool that manages multiple Docker containers as a single application.</p>

            <p><strong>Why it is used</strong>:</p>
            <ul>
                <li>To manage applications that require <strong>multiple interdependent services</strong></li>
                <li>To ensure <strong>consistent environments</strong> across development, testing, and staging</li>
                <li>To reduce manual container startup complexity</li>
            </ul>

            <p><strong>Where it is used</strong>:</p>
            <ul>
                <li>Local development environments</li>
                <li>Testing and QA pipelines</li>
                <li>Microservices-based applications</li>
                <li>Pre-production setups before Kubernetes</li>
            </ul>

            <p><strong>Typical Use Case</strong>:</p>
            <p>A web application needs a frontend, backend API, database, and Redis cache. Docker Compose starts all four services, connects them via a network, and handles startup order.</p>
            <div class="active-recall-custom-block">
                <details class="interactive-active-recall-card-dmj-su">
                    <summary class="alert-heading list-unstyled">
                        <i class="bi bi-mouse-fill"></i> Can Docker Compose replace Kubernetes?
                    </summary>
                    <hr>
                    <p class="mb-0 small"><strong>A:</strong> <strong>No</strong>. Docker Compose is designed for <strong>single-host</strong> applications (mostly dev/test). Kubernetes manages multi-node cluster orchestration at scale.</p>
                </details>
            </div>
        </article>

        <article>
            <h4>9.2 Key Terms in Docker Compose</h4>
            <ul>
                <li><strong>docker-compose.yml</strong>: The declarative configuration file describing the application</li>
                <li><strong>Service</strong>: A logical container definition (e.g., web, db)</li>
                <li><strong>Image</strong>: The Docker image used to create containers</li>
                <li><strong>Volume</strong>: Persistent storage shared with containers</li>
                <li><strong>Network</strong>: Virtual network enabling service-to-service communication</li>
            </ul>
            <p>A service is not just a container; it is a <strong>policy</strong> for creating and managing containers.</p>
        </article>

        <article>
            <h4>9.3 Structure of docker-compose.yml</h4>
            <p>The file follows a top-down declarative structure. Docker Compose reads it and figures out the execution logic automatically.</p>

            <ul>
                <li><strong>version</strong>: Compose file format version</li>
                <li><strong>services</strong>: Defines application components</li>
                <li><strong>image</strong>: Image to pull or build</li>
                <li><strong>ports</strong>: Host-to-container port mapping</li>
                <li><strong>environment</strong>: Environment variables</li>
                <li><strong>volumes</strong>: Persistent data storage</li>
                <li><strong>networks</strong>: Custom networks</li>
                <li><strong>depends_on</strong>: Startup dependency control</li>
            </ul>
            <div class="active-recall-custom-block">
                <details class="interactive-active-recall-card-dmj-su">
                    <summary class="alert-heading list-unstyled">
                        <i class="bi bi-mouse-fill"></i> What file format does Docker Compose use?
                    </summary>
                    <hr>
                    <p class="mb-0 small"><strong>A:</strong> <strong>YAML</strong>, a human-readable data serialization format that relies on indentation for structure.</p>
                </details>
            </div>
        </article>

        <article>
            <h5>9.3.1 Minimal docker-compose.yml Example</h5>
            <pre><code class="language-yaml">
version: "3.9"

services:
  web:
    image: nginx:latest
    ports:
      - "8080:80"
    depends_on:
      - app

  app:
    image: node:18
    environment:
      NODE_ENV: production
</code></pre>
            <pre class="mermaid text-center">
            graph TD
                User((User)) -->|Port 8080:80| Web[Web Service<br>nginx]
                Web -->|Default Network| App[App Service<br>node:18]
                subgraph Docker Compose
                Web
                App
                end
                style Web fill:#9fd
                style App fill:#f9f
            </pre>
            <p>This defines two services that share a default network and start in dependency order.</p>
        </article>

        <article>
            <h4>9.4 Docker vs Docker Compose</h4>
            <div class="table-responsive">
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>Docker</th>
                            <th>Docker Compose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Scope</td>
                            <td>Single container</td>
                            <td>Multiple containers</td>
                        </tr>
                        <tr>
                            <td>Configuration</td>
                            <td>CLI-based</td>
                            <td>YAML-based</td>
                        </tr>
                        <tr>
                            <td>Networking</td>
                            <td>Manual</td>
                            <td>Automatic</td>
                        </tr>
                        <tr>
                            <td>Use Case</td>
                            <td>Standalone apps</td>
                            <td>Multi-service apps</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </article>

        <article>
            <h4>9.5 Common Docker Compose Commands</h4>
            <ul>
                <li><strong>docker compose up</strong>: Start all services</li>
                <li><strong>docker compose up -d</strong>: Start services in detached mode</li>
                <li><strong>docker compose down</strong>: Stop and remove containers, networks</li>
                <li><strong>docker compose ps</strong>: List running services</li>
                <li><strong>docker compose logs</strong>: View logs of all services</li>
            </ul>
            <div class="active-recall-custom-block">
                <details class="interactive-active-recall-card-dmj-su">
                    <summary class="alert-heading list-unstyled">
                        <i class="bi bi-mouse-fill"></i> What does the <code>-d</code> flag do in <code>docker compose up -d</code>?
                    </summary>
                    <hr>
                    <p class="mb-0 small"><strong>A:</strong> It runs the containers in <strong>Detached Mode</strong> (in the background), so they don't block your terminal prompt.</p>
                </details>
            </div>
            <p>Compose commands operate on the <strong>entire application lifecycle</strong>, not individual containers.</p>
        </article>

        <article>
            <h4>9.6 Conceptual Insight</h4>
            <p>Docker Compose is not a replacement for Kubernetes. It is the <strong>thinking tool</strong> that teaches:</p>
            <ul>
                <li>Service decomposition</li>
                <li>Network-based application design</li>
                <li>Environment reproducibility</li>
                <li>Declarative infrastructure mindset</li>
            </ul>
            <p>Mastering Docker Compose builds the mental model required for enterprise orchestration systems.</p>
        </article>

        <article>
            <h4>9.7 Build Context & Custom Images</h4>
            <p>In real projects, services rarely use only prebuilt images. Docker Compose commonly builds images from source using a <strong>build context</strong>.</p>
            <ul>
                <li><strong>build</strong>: Specifies Dockerfile location and context</li>
                <li>Bridges application code with container runtime</li>
            </ul>
            <pre><code class="language-yaml">
services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
</code></pre>
            <p>This enables <strong>code → image → container</strong> automation in one command.</p>
        </article>

        <article>
            <h4>9.8 Volumes: Stateful Containers</h4>
            <p>Containers are ephemeral. Volumes provide <strong>state persistence</strong> beyond container lifecycle.</p>
            <ul>
                <li>Used for databases, logs, uploads</li>
                <li>Decouples data from container runtime</li>
            </ul>
            <pre><code class="language-yaml">
services:
  db:
    image: mysql:8
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
</code></pre>
            <div class="active-recall-custom-block">
                <details class="interactive-active-recall-card-dmj-su">
                    <summary class="alert-heading list-unstyled">
                        <i class="bi bi-mouse-fill"></i> How do you persist database data in Docker Compose?
                    </summary>
                    <hr>
                    <p class="mb-0 small"><strong>A:</strong> By defining a <strong>named volume</strong> under the <code>volumes:</code> key and mapping it to the database container's data directory (e.g., <code>./data:/var/lib/mysql</code>).</p>
                </details>
            </div>
            <p>This models real-world enterprise state management.</p>
        </article>

        <article>
            <h4>9.9 Networking Model</h4>
            <p>Docker Compose automatically creates a <strong>bridge network</strong>.</p>
            <ul>
                <li>Each service is reachable via <strong>service name as hostname</strong></li>
                <li>DNS-based service discovery is built-in</li>
            </ul>
            <p>Example: <code>web</code> service can connect to <code>db:3306</code> without IPs.</p>
            <div class="container-fluid col-md-8 mt-4 mb-4">
                <figure class="figure w-100 text-center">
                    <img src="../img/docker_compose_service_discovery.webp" class="figure-img img-fluid rounded shadow-lg" alt="Docker Compose DNS Service Discovery">
                    <figcaption class="figure-caption">How Service Discovery works: Internal DNS resolves service names to container IPs automatically.</figcaption>
                </figure>
            </div>
            <p>This mirrors Kubernetes service discovery fundamentals.</p>
            <div class="active-recall-custom-block">
                <details class="interactive-active-recall-card-dmj-su">
                    <summary class="alert-heading list-unstyled">
                        <i class="bi bi-mouse-fill"></i> How does Service A find Service B in Docker Compose?
                    </summary>
                    <hr>
                    <p class="mb-0 small"><strong>A:</strong> By using the <strong>Service Name</strong> as the hostname. Docker's internal DNS automatically resolves <code>http://db</code> to the correct container IP.</p>
                </details>
            </div>
        </article>

        <article>
            <h4>9.10 depends_on Limitation</h4>
            <p><strong>depends_on</strong> controls startup order, not readiness.</p>
            <ul>
                <li>Container may start but app may not be ready</li>
                <li>Common interview and production pitfall</li>
            </ul>
            <p>Readiness must be handled at application or script level.</p>
        </article>

        <article>
            <h4>9.11 Compose vs Kubernetes</h4>
            <p>Docker Compose is ideal for:</p>
            <ul>
                <li>Local development</li>
                <li>Single-host orchestration</li>
            </ul>
            <p>It lacks:</p>
            <ul>
                <li>Auto-scaling</li>
                <li>Self-healing</li>
                <li>Multi-node scheduling</li>
            </ul>
            <p>This distinction clarifies when to transition to Kubernetes.</p>
        </article>

        <article>
            <h4>9.12 Real-World DevOps Flow Placement</h4>
            <p>Docker Compose typically sits between:</p>
            <ul>
                <li><strong>Dockerfile</strong> (image definition)</li>
                <li><strong>Kubernetes</strong> (production orchestration)</li>
            </ul>
            <p>Compose is the <strong>learning and validation layer</strong> of containerized system design.</p>
        </article>


    </main>

    <script> copyright("all"); </script>

</body>

</html>