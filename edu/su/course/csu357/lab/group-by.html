<!-------------------------- Â© 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>

        <title>Practical 8 - Group By Clause - CSU357P - Shoolini U</title>
        <meta name="description" content="Learn how to use the GROUP BY clause in SQL to group rows based on a column's values.">

        <meta property="og:image" content="/logo.png">
        <meta property="og:type" content="article">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@divyamohan1993">
        <meta name="twitter:creator" content="@divyamohan1993">
        <meta name="twitter:image" content="/logo.png">

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <meta name="author" content="Divya Mohan">
        <meta name="robots" content="index, follow">
    </head>

    <body>

        <script> header_author("dm"); </script>

        <main>

            <article class="agen-tableofcontents">
                <h2 class="text-center">
                    Practical 8: Group By Clause
                </h2>
                <div class="d-none contentdate">2024, May 8</div>
            </article>

            <article id="group-by-clause">
                <h3>8. GROUP BY Clause</h3>
                <p>The <strong>GROUP BY</strong> clause in SQL is used to arrange identical data into groups. This is particularly useful for applying aggregate functions like <code>SUM</code>, <code>MAX</code>, <code>MIN</code>, <code>COUNT</code>, and <code>AVG</code> on grouped data. Here is a conceptual overview and example usage of the <code>GROUP BY</code> clause.</p>
            </article>

            <article>
                <h4>8.1. Syntax</h4>
                <pre><code class="language-sql">
SELECT column1, 
       aggregate_function(column2)
FROM table_name
GROUP BY column1;
</code></pre>
                <p>In this syntax:</p>
                <ul>
                    <li><strong>column1</strong>: The column to group by.</li>
                    <li><strong>aggregate_function</strong>: The function to apply to each group (e.g., <code>SUM</code>, <code>MAX</code>, <code>MIN</code>, <code>COUNT</code>).</li>
                    <li><strong>table_name</strong>: The table from which to select data.</li>
                </ul>
            </article>

            <article>
                <h4>8.2. Example: Highest Paid Salaries in Each Department</h4>
                <p>To retrieve a list of the highest paid salaries in each department:</p>
                <pre><code class="language-sql">
SELECT MAX(salary), dept
FROM employee
GROUP BY dept;
</code></pre>
                <p>This query selects the maximum salary for each unique department. The result will display the highest salary and the corresponding department.</p>
            </article>

            <article>
                <h4>8.3. Multiple Grouping Columns</h4>
                <p>If you need to include additional columns in the grouping, such as displaying the last name along with the department and highest salary:</p>
                <pre><code class="language-sql">
SELECT dept, lastname, MAX(salary)
FROM employee
GROUP BY dept, lastname;
</code></pre>
                <p>This query will group the results by both department and last name, showing the highest salary for each combination.</p>
            </article>

            <article>
                <h4>8.4. Exercises</h4>
                <h5>8.4.1. Exercise 1: Count of People in Each State</h5>
                <p>How many people are in each unique state in the <code>customers</code> table? Select the state and display the number of people in each state.</p>
                <pre><code class="language-sql">
SELECT state, COUNT(state)
FROM customers
GROUP BY state;
</code></pre>

                <h5>8.4.2. Exercise 2: Maximum and Minimum Price for Each Item</h5>
                <p>From the <code>items_ordered</code> table, select the item, maximum price, and minimum price for each specific item.</p>
                <pre><code class="language-sql">
SELECT item, MAX(price), MIN(price)
FROM items_ordered
GROUP BY item;
</code></pre>

                <h5>8.4.3. Exercise 3: Number of Orders per Customer</h5>
                <p>How many orders did each customer make? Use the <code>items_ordered</code> table. Select the customer ID, number of orders they made, and the sum of their orders.</p>
                <pre><code class="language-sql">
SELECT customerid, COUNT(customerid), SUM(price)
FROM items_ordered
GROUP BY customerid;
</code></pre>
            </article>

            <article>
                <h4>8.5. Verification</h4>
                <p>After running the above queries, verify that the results match the expected outputs. For instance, ensure that the maximum price in each quantity group is indeed the highest price for that group, and the counts and sums are correct for each group in the exercises.</p>
            </article>


        </main>

        <script> copyright("all"); </script>
    </body>

</html>
