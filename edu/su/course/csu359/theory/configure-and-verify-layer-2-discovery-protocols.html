<!-------------------------- Â© 2007 - present, dmj.one and contributors. ----------------------------------
   Part of the dmjone project. Licensed under the GNU AGPL. Provided as-is, without warranty of any kind. 
-------------------- Redistribution and modifications must retain this notice. --------------------------->


<!DOCTYPE html>
<!--[if lte 8]><html class="pre-ie9" lang="en"><![endif]-->
<!--[if gte IE 9]><!-->
<html lang="en">
    <!--<![endif]-->

    <head>
        <script src="/js/edu_su_common.js"></script>
        <noscript>
            <style>
                html,
                body {
                    margin: 0;
                    overflow: hidden;
                }
            </style>
            <iframe src="/frame_noscript.html" style="width:100%;height:100vh;border:none;display:block"></iframe>
        </noscript>

        <title>Layer 2 discovery protocols - CSU359 - Shoolini University</title>
        <meta name="description" content="Connect and Verify Layer 2 discovery protocols in a network. Learn about Cisco Discovery Protocol (CDP) and Link Layer Discovery Protocol (LLDP).">

        <meta property=" og:image" content="/logo.png">
        <meta property="og:type" content="article">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@divyamohan1993">
        <meta name="twitter:creator" content="@divyamohan1993">
        <meta name="twitter:image" content="/logo.png">

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <meta name="author" content="Divya Mohan">
        <meta name="robots" content="index, follow">
    </head>

    <body>

        <script> header_author("dm"); </script>

        <main>

            <article class="agen-tableofcontents">
                <h2 class="text-center">
                    Configure and verify Layer 2 discovery protocols
                </h2>
                <div class="d-none contentdate">2024, September 3</div>
            </article>

            <article>
                <h3>0. Layer 2 Discovery Protocols</h3>
                <p>Layer 2 discovery protocols are essential for efficient network management and troubleshooting in switched networks. These protocols allow devices to discover information about directly connected devices, share network topology data, and ensure seamless communication between network devices at the Data Link Layer (Layer 2) of the OSI model.</p>
                <p>The primary goal of Layer 2 discovery protocols is to enable automatic detection and identification of neighboring devices, helping administrators to map out the network and manage it more effectively. The most common Layer 2 discovery protocols include:</p>
                <ul>
                    <li><strong>Cisco Discovery Protocol (CDP)</strong>: A proprietary protocol for Cisco devices.</li>
                    <li><strong>Link Layer Discovery Protocol (LLDP)</strong>: A vendor-neutral, open-standard protocol supported by various devices across different manufacturers.</li>
                </ul>
            </article>

            <article>
                <h4>0.1 Why Layer 2 Discovery Protocols are Important</h4>
                <p>Layer 2 discovery protocols play a crucial role in network operations. Here are key reasons why they are used:</p>
                <ul>
                    <li><strong>Topology Mapping</strong>: Automatically detects neighboring devices and provides information about them, such as device type, IP addresses, and port connections, enabling administrators to build and visualize network topologies.</li>
                    <li><strong>Network Troubleshooting</strong>: Helps in identifying and resolving connectivity issues by providing real-time information about directly connected devices.</li>
                    <li><strong>Device Management</strong>: Assists in the management of devices by providing critical information such as software versions, hardware capabilities, and network services.</li>
                    <li><strong>Automation</strong>: Facilitates automation in managing network resources by providing up-to-date network data without manual intervention.</li>
                </ul>
            </article>

            <article>
                <h4>0.2 Common Layer 2 Discovery Protocols</h4>
                <p>There are two main Layer 2 discovery protocols in use today:</p>

                <h5>0.2.1 Cisco Discovery Protocol (CDP)</h5>
                <p>CDP is a proprietary protocol used exclusively on Cisco devices. It allows Cisco devices to share information with one another, including device type, IP addresses, and VLAN information. CDP operates at Layer 2 and provides a simple and efficient way to manage Cisco-based networks.</p>

                <h5>0.2.2 Link Layer Discovery Protocol (LLDP)</h5>
                <p>LLDP is an open-standard protocol used across multi-vendor environments. Unlike CDP, LLDP is supported by most modern network devices regardless of the manufacturer, making it ideal for networks with mixed hardware. LLDP enables devices to share information about their identity and capabilities, helping administrators manage complex networks more effectively.</p>

            </article>

            <article>
                <h4>0.3 CDP vs. LLDP: Key Differences</h4>
                <p>While both CDP and LLDP serve similar purposes, there are some key differences between the two:</p>
                <ul>
                    <li><strong>Vendor Specificity</strong>: CDP is Cisco-specific, while LLDP is vendor-neutral and works with any device supporting the LLDP standard.</li>
                    <li><strong>Default Configuration</strong>: CDP is enabled by default on Cisco devices, whereas LLDP must often be enabled manually on most devices.</li>
                    <li><strong>Capability</strong>: CDP includes additional Cisco-specific information like VLAN details, whereas LLDP sticks to standard TLVs that are interoperable across multiple vendors.</li>
                </ul>
            </article>

            <article>
                <h3>1. Configure and verify Layer 2 Discovery Protocols - Cisco Discovery Protocol (CDP)</h3>
                <p>Layer 2 discovery protocols are essential for network management and troubleshooting. Cisco Discovery Protocol (CDP) is a proprietary Layer 2 protocol that allows Cisco devices to share information about themselves and discover other Cisco devices in the network. This helps in network topology mapping and device management.</p>
            </article>

            <article>
                <h4>1.1 What is CDP?</h4>
                <p>Cisco Discovery Protocol (CDP) operates at the Data Link Layer (Layer 2 of the OSI model) and is used to exchange information such as device identifiers, IP addresses, software versions, and capabilities between directly connected Cisco devices.</p>
                <ul>
                    <li><strong>Layer</strong>: Operates at OSI Layer 2 (Data Link Layer).</li>
                    <li><strong>Function</strong>: Shares and collects information between neighboring Cisco devices.</li>
                    <li><strong>Protocols Supported</strong>: Works only with Cisco devices.</li>
                    <li><strong>Common Use</strong>: Used to help administrators manage, troubleshoot, and map out network topologies.</li>
                </ul>
            </article>

            <article>
                <h4>1.2 How CDP Works</h4>
                <p>CDP is a lightweight protocol that runs on all Cisco devices by default. It sends periodic advertisements to other Cisco devices on the network, which include information about the device, such as hostname, IP address, and capabilities (e.g., routing, switching).</p>
                <ul>
                    <li><strong>CDP Packet</strong>: CDP messages contain TLVs (Type-Length-Values), which provide information about the device.</li>
                    <li><strong>Advertisement Interval</strong>: By default, CDP advertisements are sent every 60 seconds.</li>
                    <li><strong>Hold Time</strong>: CDP packets have a default hold time of 180 seconds, after which the information is discarded if no further advertisements are received.</li>
                </ul>
            </article>

            <article>
                <h4>1.3 Configuring CDP</h4>
                <p>CDP is enabled by default on most Cisco devices. However, administrators can configure it as needed. Below is the step-by-step guide to configure CDP on a Cisco device:</p>

                <h5>1.3.1 Enable CDP Globally</h5>
                <pre><code class="">Switch(config)# cdp run</code></pre>

                <h5>1.3.2 Enable or Disable CDP on Specific Interfaces</h5>
                <p>CDP can be turned on or off on a per-interface basis.</p>
                <pre><code class="">Switch(config-if)# cdp enable    // Enable CDP on interface
Switch(config-if)# no cdp enable // Disable CDP on interface</code></pre>

            </article>

            <article>
                <h4>1.4 Verifying CDP Operation</h4>
                <p>After configuring CDP, it is crucial to verify its operation to ensure neighboring devices are correctly discovered and advertised.</p>

                <h5>1.4.1 Check CDP Status</h5>
                <pre><code class="">Switch# show cdp
Switch# show cdp interface</code></pre>
                <p>These commands show whether CDP is running and on which interfaces it is enabled.</p>

                <h5>1.4.2 Display CDP Neighbor Information</h5>
                <pre><code class="">Switch# show cdp neighbors</code></pre>
                <p>This command shows a summary of all the neighboring devices that CDP has discovered, including the device ID, local interface, hold time, capability, platform, and port ID.</p>

                <h5>1.4.3 Display Detailed CDP Neighbor Information</h5>
                <pre><code class="">Switch# show cdp neighbors detail</code></pre>
                <p>This command provides detailed information about each neighbor, including IP address, software version, and device capabilities.</p>

            </article>

            <article>
                <h4>1.5 Best Practices for CDP</h4>
                <p>While CDP is useful, it is important to consider security and resource usage. In secure environments or when non-Cisco devices are used, CDP may be disabled or limited to avoid unnecessary advertisements and to prevent potential security risks.</p>
                <ul>
                    <li><strong>Disable CDP</strong>: Disable CDP on interfaces that are connected to untrusted devices or networks.</li>
                    <li><strong>Monitor CDP Traffic</strong>: Use appropriate monitoring tools to observe CDP traffic and ensure it is being used as intended.</li>
                </ul>
            </article>

            <article>
                <h3>2. Link Layer Discovery Protocol (LLDP)</h3>
                <p>Link Layer Discovery Protocol (LLDP) is a vendor-neutral Layer 2 discovery protocol used by network devices to advertise their identity and capabilities to other devices. LLDP provides similar functionality to Cisco Discovery Protocol (CDP) but is open-standard, allowing it to work across various devices from different vendors.</p>
            </article>

            <article>
                <h4>2.1 What is LLDP?</h4>
                <p>LLDP operates at Layer 2 of the OSI model (Data Link Layer) and is used for topology discovery and network management. It allows network devices to discover and identify their neighbors, regardless of the vendor.</p>
                <ul>
                    <li><strong>Layer</strong>: Operates at OSI Layer 2 (Data Link Layer).</li>
                    <li><strong>Function</strong>: Shares information between neighboring devices from any vendor supporting LLDP.</li>
                    <li><strong>Protocols Supported</strong>: Open-standard and works across different devices (not limited to Cisco).</li>
                    <li><strong>Common Use</strong>: Used for network topology discovery and to improve network management.</li>
                </ul>
            </article>

            <article>
                <h4>2.2 How LLDP Works</h4>
                <p>LLDP operates similarly to CDP but is more flexible due to its vendor-neutral nature. Devices send LLDP advertisements periodically, which contain information such as the device's name, port, and capabilities. These advertisements are sent in Ethernet frames using TLVs (Type-Length-Value).</p>
                <ul>
                    <li><strong>LLDP Frame</strong>: LLDP messages contain TLVs, which carry information such as system name, port ID, system capabilities, and more.</li>
                    <li><strong>Advertisement Interval</strong>: LLDP advertisements are sent every 30 seconds by default.</li>
                    <li><strong>Hold Time</strong>: The default hold time for LLDP information is 120 seconds.</li>
                </ul>
            </article>

            <article>
                <h4>2.3 Configuring LLDP</h4>
                <p>LLDP is disabled by default on most Cisco devices, but it can be enabled manually. Below are the steps to configure LLDP on a Cisco device:</p>

                <h5>2.3.1 Enable LLDP Globally</h5>
                <pre><code class="">Switch(config)# lldp run</code></pre>

                <h5>2.3.2 Enable or Disable LLDP on Specific Interfaces</h5>
                <p>Similar to CDP, LLDP can be turned on or off on specific interfaces.</p>
                <pre><code class="">Switch(config-if)# lldp transmit    // Enable LLDP transmission on interface
Switch(config-if)# lldp receive     // Enable LLDP reception on interface
Switch(config-if)# no lldp transmit // Disable LLDP transmission on interface
Switch(config-if)# no lldp receive  // Disable LLDP reception on interface</code></pre>
            </article>

            <article>
                <h4>2.4 Verifying LLDP Operation</h4>
                <p>It is essential to verify LLDP operation after configuration to ensure proper neighbor discovery and data exchange.</p>

                <h5>2.4.1 Check LLDP Status</h5>
                <pre><code class="">Switch# show lldp
Switch# show lldp interface</code></pre>
                <p>These commands show the current LLDP status and on which interfaces LLDP is enabled.</p>

                <h5>2.4.2 Display LLDP Neighbor Information</h5>
                <pre><code class="">Switch# show lldp neighbors</code></pre>
                <p>This command shows information about neighboring devices discovered using LLDP, including the device ID, local interface, hold time, capability, and port ID.</p>

                <h5>2.4.3 Display Detailed LLDP Neighbor Information</h5>
                <pre><code class="">Switch# show lldp neighbors detail</code></pre>
                <p>This command provides detailed information about each neighboring device, such as IP address, software version, and device capabilities.</p>

            </article>

            <article>
                <h4>2.5 Best Practices for LLDP</h4>
                <p>While LLDP is a valuable tool for network management, it is important to use it judiciously to avoid potential security issues and unnecessary traffic.</p>
                <ul>
                    <li><strong>Disable LLDP</strong>: Disable LLDP on interfaces connected to untrusted networks or devices to reduce exposure.</li>
                    <li><strong>Control LLDP Traffic</strong>: Use access control lists (ACLs) or other security mechanisms to control LLDP traffic if necessary.</li>
                    <li><strong>Monitor LLDP</strong>: Regularly monitor LLDP data to ensure it is providing accurate and useful information for network management.</li>
                </ul>
            </article>


        </main>

        <script> copyright("all"); </script>

    </body>

</html>