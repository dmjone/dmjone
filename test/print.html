<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Print Preview</title>
        <style>
            @media print {
                @page {
                    margin: 0;
                    /* Removes default margins */
                    counter-increment: page;
                }

                body {
                    font-family: Arial, sans-serif;
                    margin: 0;
                    padding: 20mm;
                    /* Adds margin to the body */
                }

                .print-header,
                .print-footer {
                    position: fixed;
                    width: 100%;
                    text-align: center;
                    background: #f1f1f1;
                    padding: 10px 0;
                }

                .print-header {
                    top: 0;
                    left: 0;
                    right: 0;
                }

                .print-footer {
                    bottom: 0;
                    left: 0;
                    right: 0;
                }

                .print-footer::after {
                    content: "Page " counter(page) + 1;
                }

                .print-content {
                    margin-top: 60px;
                    /* Adjust according to header height */
                    margin-bottom: 60px;
                    /* Adjust according to footer height */
                }
            }
        </style>
    </head>

    <body>
        <div class="print-header">
            Custom Header for Print Preview
        </div>
        <div class="print-content">
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <h1>Content Title</h1>
            <p>Your main content goes here. This section will be adjusted to not overlap with the custom header and footer.</p>
            <!-- Add more content as needed -->
        </div>
        <div class="print-footer">
            Custom Footer for Print Preview
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', (event) => {
                const printHeader = document.querySelector('.print-header');
                const printFooter = document.querySelector('.print-footer');

                // Set dynamic content if needed
                printHeader.innerHTML = 'Dynamic Header Content';
                printFooter.innerHTML = 'Dynamic Footer Content - Page ' + window.location.pathname;
            });
        </script>
        <script>
            window.addEventListener('afterprint', () => {
                document.querySelectorAll('.page-number').forEach((element) => {
                    element.remove();
                });
            });

            function addPageNumbers() {
                const totalPages = Math.ceil(document.body.scrollHeight / window.innerHeight);
                const footer = document.getElementById('print-footer');

                for (let i = 1; i <= totalPages; i++) {
                    const pageNumber = document.createElement('div');
                    pageNumber.classList.add('page-number');
                    pageNumber.style.position = 'fixed';
                    pageNumber.style.bottom = '10px';
                    pageNumber.style.right = '10px';
                    pageNumber.style.zIndex = '1000';
                    pageNumber.style.width = '100%';
                    pageNumber.style.textAlign = 'center';
                    pageNumber.style.backgroundColor = 'white';
                    pageNumber.textContent = `Page ${i} of ${totalPages}`;

                    pageNumber.style.top = `${(i - 1) * window.innerHeight + window.innerHeight - 30}px`;

                    document.body.appendChild(pageNumber);
                }
            }

            window.addEventListener('beforeprint', () => {
                addPageNumbers();
            });
        </script>
    </body>

</html>