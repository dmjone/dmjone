<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Google One Tap Sign-In</title>
        <script src="https://accounts.google.com/gsi/client" async defer></script>
    </head>

    <body>
        <!-- Add a div to display sign-in button -->
        <div id="g_id_onload" data-client_id="107722137045-s1shk381lhpsu132999cl102kdlgs7c3.apps.googleusercontent.com" data-context="signin" data-ux_mode="popup" data-callback="handleCredentialResponse">
        </div>

        <script>
            // Handle the response from Google One Tap Sign-In
            function handleCredentialResponse(response) {
                const userObject = JSON.parse(atob(response.credential.split('.')[1]));
                console.log(userObject);

                // Save user details to local storage
                localStorage.setItem('google_user', JSON.stringify(userObject));

                // Set a timeout to revoke sign-in and delete local storage after 24 hours
                setTimeout(() => {
                    localStorage.removeItem('google_user');
                    alert('Sign-in revoked after 24 hours.');
                    // Optional: Redirect or refresh the page
                    window.location.reload();
                }, 24 * 60 * 60 * 1000); // 24 hours in milliseconds
            }
        </script>
    </body>

</html>